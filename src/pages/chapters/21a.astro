---
import Base from "../../layouts/Base.astro";
import { getSectionsByPrefix } from "../../lib/sections";

const sections = getSectionsByPrefix("21a-");
---

<Base title="Authority Â· Chapter 21a" description="Browse Chapter 21a statutes.">
  <header class="site-header">
    <div class="logo">Authority</div>
    <nav class="nav">
      <a href="/">Home</a>
      <a href="#list">Sections</a>
    </nav>
  </header>

  <main class="chapter-page">
    <section class="section-heading">
      <p class="eyebrow">Chapter 21a</p>
      <h1>Title 21a Sections</h1>
      <p class="lead">Browse every parsed section in Chapter 21a.</p>
    </section>

    <section id="list" class="section-block">
      <div class="section-title">
        <h2>Sections</h2>
        <p>{sections.length} total sections</p>
      </div>
      <div class="section-list">
        {sections.map((section) => (
          <a
            class="section-row"
            href={`/sections/21a/${section.section_number?.replace(/^21a-/, "")}/`}
          >
            <span class="section-number">{section.section_number}</span>
            <span class="section-title-text">
              {section.section_title ?? section.section_label}
            </span>
          </a>
        ))}
      </div>
    </section>
  </main>
</Base>
